@model AgendaIR.Models.Cliente

@{
    ViewData["Title"] = "Deletar Cliente";
}

<!-- PAGE HEADER -->
<div class="page-header-rir">
    <div>
        <h2><i class="bi bi-exclamation-triangle-fill text-danger"></i> Deletar Cliente</h2>
        <p>Confirme a exclusão permanente do cliente</p>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-12 col-lg-8">
        <!-- Aviso de Confirmação -->
        <div class="alert-rir alert-rir-danger text-center mb-4">
            <i class="bi bi-exclamation-triangle-fill" style="font-size: 3rem;"></i>
            <div>
                <h4 class="mt-3">Atenção! Você está prestes a deletar um cliente</h4>
                <p class="mb-0">Esta ação não pode ser desfeita.</p>
            </div>
        </div>

        <!-- Dados do Cliente -->
        <div class="card-rir mb-4">
            <div class="card-rir-header">
                <h5 class="mb-0">
                    <i class="bi bi-person-x"></i> Confirmar Exclusão do Cliente
                </h5>
            </div>
            <div class="card-rir-body">
                <div class="alert-rir alert-rir-info mb-4">
                    <i class="bi bi-info-circle" style="font-size: 1.5rem;"></i>
                    <div>
                        <strong>Atenção:</strong> Ao deletar este cliente, todas as informações associadas serão removidas permanentemente.
                    </div>
                </div>

                <h5 class="mb-3">Dados do Cliente:</h5>

                <div class="row mb-3">
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">Nome Completo</label>
                        <p class="h6">@Model.Nome</p>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">CPF</label>
                        <p class="h6">@Model.CPF</p>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">Email</label>
                        <p class="h6">@Model.Email</p>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">Telefone</label>
                        <p class="h6">@Model.Telefone</p>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">Funcionário Responsável</label>
                        <p class="h6">
                            <span class="badge-rir badge-rir-info">
                                @Model.Funcionario?.Nome
                            </span>
                        </p>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="text-muted small">Status</label>
                        <p class="h6">
                            @if (Model.Ativo)
                            {
                                <span class="badge-rir badge-rir-success">Ativo</span>
                            }
                            else
                            {
                                <span class="badge-rir badge-rir-danger">Inativo</span>
                            }
                        </p>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-12">
                        <label class="text-muted small">Data de Cadastro</label>
                        <p class="h6">@Model.DataCriacao.ToString("dd/MM/yyyy HH:mm")</p>
                    </div>
                </div>

                <hr class="my-4" />

                <div class="alert-rir alert-rir-danger">
                    <i class="bi bi-exclamation-octagon" style="font-size: 1.5rem;"></i>
                    <div>
                        <h6>Consequências da Exclusão:</h6>
                        <ul class="mb-0">
                            <li>O cliente não poderá mais acessar o sistema</li>
                            <li>O Magic Link será invalidado</li>
                            <li>Todos os dados do cliente serão removidos permanentemente</li>
                            <li><strong>Esta ação não pode ser revertida!</strong></li>
                        </ul>
                    </div>
                </div>

                <form asp-action="Delete" method="post">
                    <input type="hidden" asp-for="Id" />
                    
                    <div class="d-flex flex-column flex-md-row justify-content-between gap-2 mt-4">
                        <a asp-action="Index" class="btn-rir-secondary">
                            <i class="bi bi-arrow-left"></i> Cancelar
                        </a>
                        <button type="submit" class="btn-rir-danger">
                            <i class="bi bi-trash"></i> Confirmar Exclusão
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Sugestão Alternativa -->
        <div class="card-rir">
            <div class="card-rir-body">
                <h6 class="mb-2">
                    <i class="bi bi-lightbulb"></i> Sugestão Alternativa
                </h6>
                <p class="mb-3">
                    Se você não quer deletar permanentemente este cliente, considere apenas 
                    <strong>desativá-lo</strong> na página de edição. 
                    Assim, você pode reativá-lo futuramente se necessário.
                </p>
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn-rir-secondary">
                    <i class="bi bi-pencil"></i> Ir para Edição
                </a>
            </div>
        </div>
    </div>
</div>
